```markdown
# AWS Cloud Cost Calculator

A dynamic dashboard to monitor, analyze, and forecast your AWS spending by category.  
Built using **AWS Lambda**, **DynamoDB**, **S3**, **CloudFront**, **EventBridge**, **Terraform**, and **Chart.js**.

---

## Features

- **Real-time AWS cost tracking** via Cost Explorer API.
- **Category-wise cost breakdown**: Compute, Storage, Database, Networking, and Others.
- **14-day spending trend with simple forecast**.
- **Top services overview**.
- **Automated dashboard updates** using Lambda + GitHub Actions CI/CD.
- **CloudFront cache-busting** to always serve the latest dashboard.

---

## Folder Structure

```

cloud-cost-calculator/
├── README.md
├── dashboard/
│   ├── data/
│   │   └── cost_data.json       # Generated by Lambda, holds daily costs
│   ├── error.html               # Optional error page
│   └── index.html               # Main dashboard UI
├── lambda/
│   └── fetch_costs.py           # Lambda function to fetch AWS costs and update JSON
├── terraform/
│   ├── main.tf                  # Root Terraform file calling modules
│   ├── variables.tf             # Root-level variables
│   ├── outputs.tf               # Root-level outputs
│   ├── terraform.tfvars         # Variable values (bucket name, region, etc.)
│   ├── terraform.tfstate
│   ├── terraform.tfstate.backup
│   ├── modules/
│   │   ├── s3_dashboard/
│   │   │   ├── s3-main.tf       # S3 bucket & static website configuration
│   │   │   ├── s3-variables.tf  # Module-specific variables
│   │   │   └── s3-outputs.tf    # Module outputs (bucket name, endpoint, etc.)
│   │   ├── cloudfront-acm/
│   │   │   ├── cf-main.tf       # CloudFront distribution & OAI
│   │   │   ├── cf-variables.tf
│   │   │   └── cf-outputs.tf
│   │   ├── lambda/
│   │   │   ├── lambda-main.tf   # Lambda function resource
│   │   │   ├── lambda-variables.tf
│   │   │   └── lambda-outputs.tf
│   │   ├── dynamodb/
│   │   │   ├── ddb-main.tf      # DynamoDB table resource
│   │   │   ├── ddb-variables.tf
│   │   │   └── ddb-outputs.tf
│   │   ├── cloudwatch_sns/
│   │   │   ├── cw-main.tf       # CloudWatch alarms & SNS notifications
│   │   │   ├── cw-variables.tf
│   │   │   └── cw-outputs.tf
│   │   ├── eventbridge/
│   │   │   ├── eb-main.tf       # EventBridge rules for scheduling Lambda
│   │   │   ├── eb-variables.tf
│   │   │   └── eb-outputs.tf
│   │   └── terraform.tfstate    # Optional local state for modules
└── .github/
└── workflows/
└── deploy.yml           # CI/CD workflow for Terraform deployment

````

---

## Getting Started

### Prerequisites

- AWS CLI configured with credentials and default region.
- Terraform installed (`>=1.5.0` recommended).
- Git and GitHub account.
- Node.js for local testing (optional).

### Setup Instructions

1. **Clone the repository**
   ```bash
   git clone https://github.com/<your-username>/aws-cloud-cost-calculator.git
   cd aws-cloud-cost-calculator
````

2. **Configure Terraform variables**
   Update `terraform/terraform.tfvars`:

   ```hcl
   s3_bucket_name = "my-cloud-cost-dashboard"
   region         = "eu-central-1"
   domain_name    = "my-cloud-cost-dashboard"
   lambda_name    = "fetch_cloud_costs"
   ddb_table      = "cloud_costs"
   ```

3. **Deploy infrastructure**

   ```bash
   cd terraform
   terraform init
   terraform apply
   ```

4. **Test Lambda**
   Ensure `fetch_costs.py` generates `cost_data.json` in S3:

   ```bash
   aws lambda invoke --function-name fetch_cloud_costs --payload '{}' response.json
   ```

5. **Access Dashboard**
   Use your CloudFront URL:

   ```
   https://<your-cloudfront-id>.cloudfront.net
   ```

---

## CI/CD with GitHub Actions

* Any push to the repository triggers the `deploy.yml` workflow.
* Terraform automatically applies infrastructure changes.
* Dashboard files are uploaded to S3, and CloudFront is invalidated.
* The workflow ensures updated `index.html` and JSON are live immediately.

---

## Customization

* Update `index.html` and CSS in `dashboard/` to customize dashboard styling.
* Modify `fetch_costs.py` to adjust cost categorization or trend calculation.
* Adjust budget thresholds in the dashboard script.

---

## Notes

* Cache-busting is enabled in the JS file to ensure CloudFront serves the latest data.
* `cost_data.json` is generated dynamically; no need to edit manually.
* Keep your `.tfvars` safe. Only store non-sensitive data; secrets should go into GitHub Actions Secrets.

---

## License

MIT License

```
